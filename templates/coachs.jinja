{% extends 'base.jinja' %}

{% block content %}
<div class="coachs-container">

    <div class="coachs-header">
        <h1>Nos Coachs Disponibles</h1>
        <p class="subtitle">Trouvez le coach parfait pour am√©liorer votre niveau de jeu</p>
    </div>


    <form method="get" action="{{ url_for('coach.liste_coachs') }}" class="search-bar mb-4">
        <div class="input-group">
            <input type="text" name="elem" class="form-control" placeholder="Recherche par nom ou courriel..."
                list="coach-list" value="{{ recherche }}">
            <button class="btn btn-primary" type="submit">Rechercher</button>
        </div>
    </form>

   {% if coachs %}
<div class="list-group shadow-sm">
    {% for coach in coachs %}
    <div class="list-group-item list-group-item-action d-flex align-items-center">
        <div class="me-3">
            {% if coach.image %}
            <img src="{{ url_for('static', filename=coach.image) }}" alt="{{ coach.user_name }}" class="rounded-circle border border-success" width="60" height="60">
            {% else %}
            <div class="rounded-circle bg-success text-white d-flex justify-content-center align-items-center fw-bold" style="width:60px; height:60px; font-size:1.5rem;">
                {{ coach.user_name[0]|upper }}
            </div>
            {% endif %}
        </div>

        <div class="flex-grow-1">
            <p class="coach-name">{{ coach.user_name }}</p>
            <p class="coach-email"><strong>Courriel: </strong>{{ coach.courriel }}</p>
            {% if coach.description %}
            <p><strong>Description: </strong>{{ coach.description }}</p>
            {% else %}
            <p class="text-muted">Aucune description disponible</p>
            {% endif %}
            {% if coach.jeux %}
            <div class="mt-2">
                <strong>Jeux :</strong>
                {% for jeu in coach.jeux %}
                <span class="badge bg-secondary me-1">{{ jeu.nom }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>

        <div class="ms-3">
            <a href="{{ url_for('coach.demande_coach', coach_id=coach.id) }}" class="btn btn-outline-success btn-sm">Demande</a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="alert alert-info text-center">
    Aucun coach disponible pour le moment.
</div>
{% endif %}

</div>
{% endblock %}